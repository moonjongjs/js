<!-- 체크박스 전체 선택 및 해제, 반드시 1개 이상 선택 강제 -->
<html>
<head>

</head>
 
  
 
<body>
<form name='frmList'  method='post' action='delete.php' onSubmit='return isCheckedBoxForDelete(this);'>
<table border="1">
<tr bgcolor="d7d7d7"><td><input type="checkbox" name="g_idx[]" value="0" onClick='checkBoxOnOff()'></td><td>제목줄</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="1"></td><td>1번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="2"></td><td>2번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="3"></td><td>3번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="4"></td><td>4번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="5"></td><td>5번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="6"></td><td>6번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="7"></td><td>7번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="8"></td><td>8번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="9"></td><td>9번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="checkbox" name="g_idx[]" value="10"></td><td>10번 제목</td></tr>
<tr bgcolor="ffffff"><td><input type="submit"  value="삭제"></td><td> </td></tr>
</table>
</form>
</body>
<script languge="javascript">

    // 체크박스 전체 선택 및 해제
    function checkBoxOnOff() {
      if(frmList['g_idx[]'].length > 1) {
        if(frmList['g_idx[]'][0].checked == true) {
          for(var i = 0;i <frmList['g_idx[]'].length;i++) {
            frmList['g_idx[]'][i].checked = true;
          }
        } else {
           for(var i = 0;i < frmList['g_idx[]'].length;i++) {
             frmList['g_idx[]'][i].checked = false;
           }
        }
      }
    }
     
      
     
    // 배열로 된 체크박스 체크여부 확인
    function  isCheckedBoxForDelete(form) {
      var _cnt = 0;
      for(i=1; i<form['g_idx[]'].length; i++) {
        if(form['g_idx[]'][i].checked == true){
          _cnt++;
        }
      }
     
      if(_cnt <= 0) {
        alert("[삭제항목]을체크해주세요");
        return false;
      }
     
      return true;
    }
    
    </script>
 
</html>